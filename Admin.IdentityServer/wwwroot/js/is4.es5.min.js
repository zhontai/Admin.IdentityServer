"use strict";function getInput(){return{userName:$.trim($("#userName").val()),password:$.trim($("#password").val()),rememberLogin:!!$("#rememberLogin:checked").val(),returnUrl:$("#returnUrl").val(),__RequestVerificationToken:$("input[name='__RequestVerificationToken']:first").val()}}function validate(){var t=$("#userName"),n;return $.trim(t.val())===""?(t.focus(),$("#lblUserName").show(),!1):(n=$("#password"),$.trim(n.val())==="")?(n.focus(),$("#lblPassword").show(),!1):!0}$("#userName").blur(function(){$.trim($(this).val())===""?$("#lblUserName").show():$("#lblUserName").hide()});$("#password").blur(function(){$.trim($(this).val())===""?$("#lblPassword").show():$("#lblPassword").hide()});$("#btnLogin").click(function(){var r=validate(),n,i,t;return r?(n=$(this),n.prop("disabled",!0).addClass("is-disabled").text("登录中..."),i=getInput(),t=null,$.post("/user/login",i,function(i){var u,r;if(!i){n.prop("disabled",!1).removeClass("is-disabled").text("重新登录");return}i.code===1?(u=$.trim($("#returnUrl").val()),u&&(window.location.href=u)):(n.prop("disabled",!1).removeClass("is-disabled").text("重新登录"),r="",i.data===1?(r="您的账号输入不正确，请重新输入",$("#userName").focus()):i.data===2&&(r="您的密码输入不正确，请重新输入",$("#password").focus()),r&&($(".my-alert:first").show().text(r),t&&clearTimeout(t),t=window.setTimeout(function(){$(".my-alert:first").hide().text("")},3e3)))}),!1):!1});